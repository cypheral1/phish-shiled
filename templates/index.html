<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhishShield - Email Security Analyzer</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <div class="logo-icon">üõ°Ô∏è</div>
                <span class="logo-text">PhishShield</span>
            </div>
        </div>
        <nav class="sidebar-nav">
            <a href="#" class="nav-item active">
                <span class="nav-icon">üìß</span>
                <span class="nav-label">Email Analysis</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-icon">üìä</span>
                <span class="nav-label">Dashboard</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-label">Settings</span>
            </a>
            <a href="#" class="nav-item">
                <span class="nav-icon">üìö</span>
                <span class="nav-label">Help</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <div class="main-wrapper">
        <!-- Top Header Bar -->
        <header class="top-header">
            <div class="header-left">
                <h1 class="page-title">Email Security Analyzer</h1>
                <p class="page-subtitle">Advanced Threat Detection & Analysis</p>
            </div>
            <div class="header-right">
                <div class="status-badge">
                    <span class="status-dot"></span>
                    <span class="status-text">System Online</span>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <div class="content-area">
            <div class="input-output-layout">
                <!-- LEFT PANEL: INPUT -->
                <div class="input-panel">
                    <div class="panel-header">
                        <h2>üìß Email Input</h2>
                        <div class="panel-tabs">
                            <button class="tab-toggle active" data-tab="text-mode">Text</button>
                            <button class="tab-toggle" data-tab="file-mode">File</button>
                            <button class="tab-toggle" data-tab="sample-mode">Sample</button>
                        </div>
                    </div>

                    <!-- TEXT MODE -->
                    <div id="text-mode" class="input-mode active">
                        <div class="mode-content">
                            <label class="input-label">Paste email content:</label>
                            <textarea id="email-text" class="email-textarea" placeholder="From: sender@example.com&#10;Subject: Important Notice&#10;To: recipient@company.com&#10;&#10;Dear User,&#10;Please verify your account..."></textarea>
                            <button id="analyze-btn" class="btn btn-analyze">
                                <span class="btn-icon">üîç</span>
                                <span>Analyze Email</span>
                            </button>
                        </div>
                    </div>

                    <!-- FILE MODE -->
                    <div id="file-mode" class="input-mode">
                        <div class="mode-content">
                            <div class="upload-zone" id="upload-area">
                                <div class="upload-icon">üìÅ</div>
                                <p class="upload-text">Drag and drop email file here</p>
                                <p class="upload-subtext">or click to browse</p>
                                <input type="file" id="file-input" accept=".txt,.eml,.msg" style="display:none;">
                            </div>
                            <div id="file-name" class="file-info" style="display:none;"></div>
                            <button id="upload-btn" class="btn btn-analyze" style="margin-top:15px;">
                                <span class="btn-icon">üì§</span>
                                <span>Upload & Analyze</span>
                            </button>
                        </div>
                    </div>

                    <!-- SAMPLE MODE -->
                    <div id="sample-mode" class="input-mode">
                        <div class="mode-content">
                            <p class="sample-text">Load a pre-configured phishing email sample for testing:</p>
                            <button id="load-sample-btn" class="btn btn-analyze">
                                <span class="btn-icon">‚ö°</span>
                                <span>Load Sample Email</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- RIGHT PANEL: OUTPUT -->
                <div class="output-panel">
                    <!-- EMPTY STATE -->
                    <div id="empty-state" class="output-state empty">
                        <div class="empty-icon">üõ°Ô∏è</div>
                        <h3>Ready to Analyze</h3>
                        <p>Paste an email or upload a file to begin threat analysis</p>
                    </div>

                    <!-- LOADING STATE -->
                    <div id="loading" class="output-state loading hidden">
                        <div class="loader">
                            <div class="loader-spinner"></div>
                        </div>
                        <p class="loader-text">Analyzing email...</p>
                    </div>

                    <!-- RESULTS STATE -->
                    <div id="results" class="output-state results hidden">
                        <div class="results-content">
                            <!-- THREAT SCORE -->
                            <div class="threat-score-card">
                                <div class="score-gauge">
                                    <svg class="gauge-svg" viewBox="0 0 200 200">
                                        <circle cx="100" cy="100" r="90" class="gauge-bg"></circle>
                                        <circle id="gauge-circle" cx="100" cy="100" r="90" class="gauge-fill"></circle>
                                        <text x="100" y="100" class="gauge-text" id="score-text">0</text>
                                    </svg>
                                </div>
                                <div class="score-info">
                                    <h3 id="threat-level" class="threat-level-text">UNKNOWN</h3>
                                    <p id="threat-message" class="threat-message"></p>
                                </div>
                            </div>

                            <!-- THREAT INDICATORS -->
                            <div class="indicators-card">
                                <h4 class="card-title">üî¥ Threat Indicators</h4>
                                <ul id="indicators-list" class="indicators-list"></ul>
                            </div>

                            <!-- EMAIL METADATA -->
                            <div class="metadata-card">
                                <h4 class="card-title">üìß Email Metadata</h4>
                                <div class="metadata-grid">
                                    <div class="metadata-item">
                                        <span class="metadata-label">From:</span>
                                        <span id="meta-from" class="metadata-value">‚Äî</span>
                                    </div>
                                    <div class="metadata-item">
                                        <span class="metadata-label">To:</span>
                                        <span id="meta-to" class="metadata-value">‚Äî</span>
                                    </div>
                                    <div class="metadata-item">
                                        <span class="metadata-label">Subject:</span>
                                        <span id="meta-subject" class="metadata-value">‚Äî</span>
                                    </div>
                                </div>
                            </div>

                            <!-- URLS SECTION -->
                            <div id="urls-section" class="urls-card hidden">
                                <h4 class="card-title">üîó Detected URLs</h4>
                                <div id="urls-list" class="urls-list"></div>
                            </div>

                            <!-- ATTACHMENTS SECTION -->
                            <div id="attachments-section" class="attachments-card hidden">
                                <h4 class="card-title">üìé Attachments</h4>
                                <ul id="attachments-list" class="attachments-list"></ul>
                            </div>

                            <!-- ACTION BUTTONS -->
                            <div class="results-actions">
                                <button id="export-btn" class="btn btn-secondary">üì• Export Report</button>
                                <button id="analyze-again-btn" class="btn btn-primary">üîÑ Analyze Another</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
